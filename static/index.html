<!doctype html>

<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <meta name="author" content="Andrew Allbright">
    <meta name="description" content="Help Louis Rossmann encode his repair videos into a public wiki">

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
          integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
          integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">

    <title>Help Louis Rossmann</title>
  </head>
  <body class="container">

    <div id="information" class="card mt-2 mb-3">
      <div class="card-header">
        <h1 class="h3 float-left">
          Help Louis Rossmann
        </h1>
        <div class="float-right">
          <div class="btn-group" role="group" aria-label="Video Processor button toolbelt">
            <button id="reset-app" type="button" class="btn btn-warning">
              Reset App State<span class="badge badge-pill badge-warning" data-toggle="tooltip" data-placement="top" title="Reset assigned video and forms. Does not delete saved reports.">?</span>
            </button>
            <button id="hide-top" class="btn btn-secondary" type="button" data-toggle="collapse"
                    data-target="#information-collapsable" aria-expanded="false"
                    aria-controls="information-collapsable">
              Hide<span class="badge badge-pill badge-secondary" data-toggle="tooltip" data-placement="top" title="Hide this top section">?</span>
            </button>
          </div>
        </div>
      </div>
      <div id="information-collapsable" class="card-body collapse show">
        <p>
          Help Louis Rossmann organize his <a href="https://docs.google.com/spreadsheets/d/1PulZnpPHxBFyJwKiJvTQqR0D3liKHdl48rz7zwh652U/edit" target="_blank">repair videos</a> into a <a href="https://wiki2.rossmanngroup.com/index.php" target="_blank">public knowledge wiki</a> for repair
          enthusiasts.
        </p>
        <hr/>
        <iframe class="mx-auto" style="display: block" width="560" height="315"
                src="https://www.youtube.com/embed/3kGqPjSDp14" frameborder="0"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                allowfullscreen></iframe>
        <hr/>
        <h3 class="h4">Getting Started</h3>
        <ol>
          <li>Create a <a
              href="https://wiki2.rossmanngroup.com/index.php?title=Special:CreateAccount&returnto=Main+Page"
              target="_blank">account on the wiki</a> so you can contribute to the knowledge base.
          </li>
          <li>Click the "Assign Random Video" button and follow the instructions.</li>
        </ol>
      </div>
    </div>

    <div id="app-container" class="card h-80">

      <div class="card-header">
        <div class="float-right">
          <div class="btn-group" role="group" aria-label="Video Processor button toolbelt">
            <button id="assign-video" type="button" class="btn btn-primary disabled">
              Assign Random Video<span class="badge badge-pill badge-primary" data-toggle="tooltip" data-placement="top" title="Click this button to be guided through processing a Louis Rossman video">?</span>
            </button>
          </div>
        </div>
      </div>

      <div class="card-body">

        <p id="waiting">
          <i>Waiting for you to click the button...</i>
        </p>

        <div id="process-guide" class="d-none">
          <div id="video-container" class="mb-3 text-center">
            <iframe id="video-iframe" class="mx-auto" style="display: block" width="560" height="315" src=""
                    frameborder="0"
                    allow="accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                    allowfullscreen></iframe>
            <h3 id="video-title" class="h4 mt-3 mb-0"></h3>
            <p>
              <b>Row:</b> <span id="video-row"></span>
              <br/>
              (<a id="video-youtube-link" class="text-muted" href="" target="_blank">Direct Youtube Link</a>)
            </p>
          </div>
          <hr/>

          <div id="process-accordion">
            <div id="take-notes" class="card">
              <div id="heading-one" class="card-header">
                <h5 class="mb-0">
                  <button class="btn btn-link" data-toggle="collapse" data-target="#collapse-one"
                          aria-expanded="true" aria-controls="collapse-one">
                    1. Get ready to take notes
                  </button>
                </h5>
              </div>
              <div id="collapse-one" class="collapse show" aria-labelledby="heading-one"
                   data-parent="#process-accordion">
                <div class="card-body">
                  Set up your space to take notes. Perhaps grab a drink and a snack along with your note
                  taking devices? Get yourself ready to analyze a Louis video.
                </div>
              </div>
            </div>

            <div id="analyze-video" class="card">
              <div id="analyze-video-heading" class="card-header">
                <h5 class="mb-0">
                  <button class="btn btn-link collapsed" data-toggle="collapse"
                          data-target="#collapse-analyze-video" aria-expanded="true"
                          aria-controls="collapse-analyze-video">
                    2. Extract key pieces of information by watching the video
                  </button>
                </h5>
              </div>
              <div id="collapse-analyze-video" class="collapse" aria-labelledby="analyze-video-heading"
                   data-parent="#process-accordion">
                <div class="card-body">
                  <p>
                    Fill out the form below by watching the video. Use any strategy to collect correct
                    information. Step 3 uses your input data.
                  </p>
                  <hr/>

                  <form id="repair-report-form" action="javascript:void(0);" class="my-4">

                    <!-- TODO: Input group where one can either type the model identifier or select from a dropdown -->
                    <!-- Note: the model identifier & model number can be determined based on logic board number (IIRC) -->
                    <label for="model-identifier" data-toggle="tooltip" data-placement="top"
                           title="The human readable name e.g. 'Macbook Pro 13'">
                      Model Identifier <span class="ml-2 badge badge-pill badge-info">?</span>
                    </label>

                    <div class="input-group mb-2">
                      <input id="model-identifier"
                             name="model-identifier"
                             type="text"
                             class="form-control"
                             aria-label="Model Identifier"
                             placeholder="Model ID">
                      <div class="input-group-append">
                        <button class="btn btn-outline-secondary dropdown-toggle" type="button"
                                data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                          Model IDs From Sheet
                        </button>
                        <div id="model-identifier-dropdown" class="dropdown-menu"></div>
                      </div>
                    </div>

                    <p id="analyze-video-help-text-2" class="collapse">
                      If the model ID is not in the video's title then check the video's description.
                      Quickly scrub through the video for spots with the model ID.
                    </p>
                    <button class="btn btn-link text-info p-0 mb-3" data-toggle="collapse"
                            data-target="#analyze-video-help-text-2" aria-expanded="true"
                            aria-controls="analyze-video-help-text-2">
                      show tip
                    </button>
                    <br/>


                    <label for="model-identifier" data-toggle="tooltip" data-placement="top"
                           title="The number of the specific model">
                      Model Number <span class="badge badge-pill badge-info">?</span>
                    </label>
                    <div class="input-group mb-4">
                      <input id="model-number"
                             name="model-number"
                             type="text"
                             class="form-control"
                             aria-label="Model Number"
                             placeholder="Model number">
                      <div class="input-group-append">
                        <button class="btn btn-outline-secondary dropdown-toggle" type="button"
                                data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                          Model Numbers From Sheet
                        </button>
                        <div id="model-number-dropdown" class="dropdown-menu"></div>
                      </div>
                    </div>

                    <label for="model-identifier" data-toggle="tooltip" data-placement="top"
                           title="Check the title. Otherwise, scrub through the video for the model ID">
                      Logic Board Number <span class="badge badge-pill badge-info">?</span>
                    </label>
                    <div class="input-group mb-2">
                      <input id="logic-board-number"
                             name="logic-board-number"
                             type="text"
                             class="form-control"
                             aria-label="Logic Board Number"
                             placeholder="Logic board number">
                      <div class="input-group-append">
                        <button class="btn btn-outline-secondary dropdown-toggle" type="button"
                                data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                          Logic Board Numbers From Sheet
                        </button>
                        <div id="logic-board-number-dropdown" class="dropdown-menu"></div>
                      </div>
                    </div>

                    <p id="help-text-logic-board-number" class="collapse">
                      The logic board number may be used to identify the model ID and model number;
                      consult a search engine. See if the title or description contains this. Search the
                      video for PDFs or schematics that contain the data.

                      Once located, double check <a
                        href="https://wiki2.rossmanngroup.com/index.php?title=Troubleshooting_Guides">the
                      wiki</a> that the model ID + logic board number match.
                    </p>
                    <button class="btn btn-link text-info show p-0 mb-3" data-toggle="collapse"
                            data-target="#analyze-video-help-text-3" aria-expanded="true"
                            aria-controls="analyze-video-help-text-3">
                      show tip
                    </button>
                    <br/>


                    <label for="symptom">Symptom</label>
                    <textarea id="symptom"
                              name="symptom"
                              type="text"
                              class="form-control"
                              placeholder="Why do people think the laptop is broken?"></textarea>
                    <p id="help-text-symptom" class="collapse">
                      Sometimes Louis reads notes that accurately describe whats wrong. Other times, Louis
                      has to explain (and maybe demonstrate) the errant behavior.
                    </p>
                    <button class="btn btn-link text-info show p-0 mb-3" data-toggle="collapse"
                            data-target="#help-text-symptom" aria-expanded="true"
                            aria-controls="help-text-symptom">
                      show tip
                    </button>
                    <br/>

                    <label for="cause">Cause</label>
                    <textarea id="cause"
                              name="cause"
                              type="text"
                              class="form-control"
                              placeholder="What happened to break the device?"></textarea>
                    <p id="help-text-cause" class="collapse">
                      What happened to break the device? Sometimes the customer spills water on it, other
                      times a capacitor or corrosion breaks the device. Listen for customer note readings
                      and look for Louis to do detective investigation.
                    </p>
                    <button class="btn btn-link text-info show p-0 mb-3" data-toggle="collapse"
                            data-target="#help-text-cause" aria-expanded="true"
                            aria-controls="help-text-cause">
                      show tip
                    </button>
                    <br/>

                    <label for="issue">Issue</label>
                    <textarea id="issue"
                              name="issue"
                              type="text"
                              class="form-control"
                              placeholder="What is the detailed logic board based explanation for the break?"></textarea>
                    <p id="help-text-issue" class="collapse">
                      What is the detailed logic board based explanation for the break?
                    </p>
                    <button class="btn btn-link text-info show p-0 mb-3" data-toggle="collapse"
                            data-target="#help-text-issue" aria-expanded="true"
                            aria-controls="help-text-issue">
                      show tip
                    </button>

                    <div class="form-check my-3">
                      <input id="quality-check"
                             name="quality-check"
                             type="checkbox"
                             class="form-check-input">
                      <label class="form-check-label" for="quality-check">This information meets my definition of quality</label>
                    </div>

                  </form>

                  <div class="float-right my-3">
                    <div class="btn-group" role="group" aria-label="Video Processor button toolbelt">
                      <button type="button" class="btn btn-outline-info" data-toggle="modal"
                              data-target="#previous-answers-modal">
                        <span data-toggle="tooltip" data-placement="top" title="View a table of previous 'done' answers from Louis' google sheet">
                          Reference Previous "Done" Answers
                        </span>
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div id="write-to-wiki" class="card">
              <div id="heading-write-to-wiki" class="card-header">
                <h5 class="mb-0">
                  <button class="btn btn-link collapsed" data-toggle="collapse"
                          data-target="#collapse-write-to-wiki" aria-expanded="true"
                          aria-controls="collapse-write-to-wiki">
                    3. Add discoveries to the public knowledge wiki
                  </button>
                </h5>
              </div>
              <div id="collapse-write-to-wiki" class="collapse" aria-labelledby="heading-write-to-wiki"
                   data-parent="#process-accordion">
                <div class="card-body">
                  <p>
                    Now take your notes and add to the public knowledge base!
                  </p>
                  <form id="add-to-wiki-form" action="javascript:void(0);" class="my-4">
                    <label for="wiki-url" data-toggle="tooltip" data-placement="top"
                           title="The public knowledge wiki has pages for each mac. What wiki URLs are associated with the video?">
                      Wiki Entry URL<span class="ml-2 badge badge-pill badge-info">?</span>
                    </label>

                    <input id="wiki-url"
                           name="wiki-url"
                           type="text"
                           class="form-control"
                           aria-label="Wiki URL"
                           placeholder="What are the wiki URLs associated with this repair?">

                    <label for="wiki-entry-notes" class="mt-4"  data-toggle="tooltip" data-placement="top"
                           title="This is meant to capture any meta comments about the public wiki">
                      Notes on Wiki update<span class="ml-2 badge badge-pill badge-info">?</span>
                    </label>
                    <textarea id="wiki-entry-notes"
                              name="wiki-entry-notes"
                              type="text"
                              class="form-control"
                              placeholder="Did you add a new wiki page? Did you find something odd about the page you edited?""></textarea>

                    <div class="form-check mt-5">
                      <input id="wiki-quality-check"
                             name="wiki-quality-check"
                             type="checkbox"
                             class="form-check-input">
                      <label class="form-check-label" for="wiki-quality-check">This information meets my definition of quality</label>
                    </div>
                  </form>
                </div>
              </div>
            </div>

            <div id="update-google-sheet" class="card">
              <div id="heading-update-google-sheet" class="card-header">
                <h5 class="mb-0">
                  <button class="btn btn-link collapsed" data-toggle="collapse"
                          data-target="#collapse-update-google-sheet" aria-expanded="true"
                          aria-controls="collapse-update-google-sheet">
                    4. Update the google sheet
                  </button>
                </h5>
              </div>
              <div id="collapse-update-google-sheet" class="collapse" aria-labelledby="heading-update-google-sheet"
                   data-parent="#process-accordion">
                <div class="card-body">
                  <p>
                    This is the final step!
                  </p>
                  <p>
                    Update Louis' <a href="" target="_blank">repair videos google sheet</a> with the information you gathered. Reference the table below for how your update should look. If you want to update the table values below, go back to step 2 or 3.
                  </p>
                  <div class="card">
                    <div class="card-body p-0" style="overflow-x: scroll;">
                      <table id="form-inputs-as-sheet-additions" class="table table-sm table-hover">
                        <thead class="thead-dark">
                        <tr>
                          <th scope="col" class="text-right" style="min-width: 95px;">#</th>
                          <th scope="col">VideoUrl</th>
                          <th scope="col">Upload date</th>
                          <th scope="col" style="min-width: 400px;">Name</th>
                          <th scope="col" style="min-width: 400px;">Cause</th>
                          <th scope="col" style="min-width: 400px;">Issue</th>
                          <th scope="col">Issue 2</th>
                          <th scope="col" style="min-width: 100px;">Model Identifier</th>
                          <th scope="col" style="min-width: 100px;">Model Number</th>
                          <th scope="col" style="min-width: 100px;">Logic Board Part Number</th>
                          <th scope="col" style="min-width: 400px;">Other info</th>
                          <th scope="col" style="min-width: 100px;">Status</th>
                          <th scope="col" style="min-width: 100px;">User working on it</th>
                          <th scope="col" style="min-width: 200px;">Link to wiki page</th>
                          <th scope="col" style="min-width: 400px;">Notes</th>
                        </tr>
                        </thead>
                        <tbody id="form-inputs-as-sheet-additions-tbody"></tbody>
                      </table>
                    </div>
                  </div>
                  <p>
                    Update Louis' <a href="" target="_blank">repair videos google sheet</a> with the information you gathered and a link to a wiki page.
                    Congrats! Thank you for spending some of your time contributing to public knowledge.
                  </p>
                  <p>
                    Save the report you generated or process another video.
                  </p>
                </div>
              </div>
            </div>

            <hr/>

            <div class="mt-4 clearfix">
              <div class="float-right">
                <div class="btn-group" role="group"
                     aria-label="Video Processor button toolbelt">
                  <button id="reset-report" type="button" class="btn btn-secondary disabled">
                    Reset Form<span class="badge badge-pill badge-secondary" data-toggle="tooltip" data-placement="top" title="Clear form input (but keep the assigned video)">?</span>
                  </button>
                  <!-- TODO: Add ability for user to save their report -->
                  <button id="save-report" type="button" class="btn btn-success disabled">
                    Save Report<span class="badge badge-pill badge-success" data-toggle="tooltip" data-placement="top" title="Save a new report. View the saved report in the 'Your Saved Reports' section.">?</span>
                  </button>
                </div>
              </div>
            </div>

          </div>
        </div>
      </div>
    </div>


    <div id="user-generated-reports" class="card my-5">
      <div id="heading-user-generated-reports" class="card-header">
        <h5 class="mb-0 float-left">
          <button class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapse-user-generated-reports"
                  aria-expanded="true" aria-controls="collapse-user-generated-reports">
            View Your Saved Reports
          </button>
        </h5>
      </div>
      <div id="collapse-user-generated-reports" class="collapse" aria-labelledby="heading-user-generated-reports"
           data-parent="#process-accordion">
        <div class="card-body">
          <div id="reports-container"></div>
          <div class="float-right">
            <div class="btn-group" role="group" aria-label="Video Processor button toolbelt">
              <button id="delete-reports" type="button" class="btn btn-danger disabled my-3">
                Delete Saved Reports<span class="badge badge-pill badge-danger" data-toggle="tooltip" data-placement="top" title="Delete your saved reports from browser storage. This operation cannot be undone.">?</span>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal -->
    <div class="modal fade" id="previous-answers-modal" tabindex="-1" role="dialog"
         aria-labelledby="previous-answers-modalTitle" aria-hidden="true">
      <div class="modal-dialog mw-100 w-100" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLongTitle">"Done" answers from <a
                href="https://docs.google.com/spreadsheets/d/1PulZnpPHxBFyJwKiJvTQqR0D3liKHdl48rz7zwh652U/edit"
                target="_blank">Repair Videos Google Sheet</a> for reference</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body p-0" style="height: 600px; overflow-x: scroll; overflow-y: scroll;">
            <table id="done-row-answers-table" class="table table-hover" style="width: 100%;">
              <thead class="thead-dark">
              <tr>
                <th scope="col">#</th>
                <th scope="col" style="min-width: 125px;">Model ID</th>
                <th scope="col">Model #</th>
                <th scope="col" style="min-width: 125px;">Logic Board #</th>
                <th scope="col" style="min-width: 200px;">Symptom</th>
                <th scope="col" style="min-width: 300px;">Cause</th>
                <th scope="col" style="min-width: 300px;">Issue</th>
              </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>

    <footer class="d-print-none my-5 pt-5 text-muted text-center text-small">
      <p class="mb-1">If you ❤ ️looking at source code then <a href="https://github.com/aallbrig/help-louis-rossmann">check it out here</a>. Feel free to fork and submit pull requests!</p>
    </footer>

    <script src="https://code.jquery.com/jquery-3.5.1.min.js"
            integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
            integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
            crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"
            integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV"
            crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js"
            integrity="sha384-LtrjvnR4Twt/qOuYxE721u19sVFLVSA4hf/rRt6PrZTmiPltdZcI7q7PXQBYTKyf"
            crossorigin="anonymous"></script>
    <script src="js/app.js"></script>
  </body>
</html>